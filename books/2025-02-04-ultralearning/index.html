<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-02-05">
<meta name="description" content="Ultralearning: Master Hard Skills, Outsmart the Competition, and Accelerate Your Career by Scott H. Young">

<title>Ultralearning: Master Hard Skills, Outsmart the Competition, and Accelerate Your Career – self halt</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-99258d85ffddbd9841977770f8edb96b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Ultralearning: Master Hard Skills, Outsmart the Competition, and Accelerate Your Career – self halt">
<meta property="og:description" content="Ultralearning: Master Hard Skills, Outsmart the Competition, and Accelerate Your Career by Scott H. Young">
<meta property="og:image" content="https://blog.hanif.io/books/2025-02-04-ultralearning/Ultralearning.jpg">
<meta property="og:site_name" content="self halt">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">self halt</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Mahmood Hanif</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../books.html"> 
<span class="menu-text">book log</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Ultralearning: Master Hard Skills, Outsmart the Competition, and Accelerate Your Career</h1>
                  <div>
        <div class="description">
          <strong>Ultralearning: Master Hard Skills, Outsmart the Competition, and Accelerate Your Career</strong> by Scott H. Young
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">books</div>
                <div class="quarto-category">2025</div>
                <div class="quarto-category">Audible</div>
                <div class="quarto-category">non-fiction</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 5, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#ai-generated-content" id="toc-ai-generated-content" class="nav-link active" data-scroll-target="#ai-generated-content">AI Generated Content</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#overview-of-the-key-points" id="toc-overview-of-the-key-points" class="nav-link" data-scroll-target="#overview-of-the-key-points">Overview of the Key Points</a>
  <ul class="collapse">
  <li><a href="#metalearning-first-draw-a-map" id="toc-metalearning-first-draw-a-map" class="nav-link" data-scroll-target="#metalearning-first-draw-a-map">1. Metalearning (First Draw a Map)</a></li>
  <li><a href="#focus-sharpen-your-knife" id="toc-focus-sharpen-your-knife" class="nav-link" data-scroll-target="#focus-sharpen-your-knife">2. Focus (Sharpen Your Knife)</a></li>
  <li><a href="#directness-go-straight-ahead" id="toc-directness-go-straight-ahead" class="nav-link" data-scroll-target="#directness-go-straight-ahead">3. Directness (Go Straight Ahead)</a></li>
  <li><a href="#drill-attack-your-weakest-point" id="toc-drill-attack-your-weakest-point" class="nav-link" data-scroll-target="#drill-attack-your-weakest-point">4. Drill (Attack Your Weakest Point)</a></li>
  <li><a href="#retrieval-test-to-learn" id="toc-retrieval-test-to-learn" class="nav-link" data-scroll-target="#retrieval-test-to-learn">5. Retrieval (Test to Learn)</a></li>
  <li><a href="#feedback-dont-dodge-the-punches" id="toc-feedback-dont-dodge-the-punches" class="nav-link" data-scroll-target="#feedback-dont-dodge-the-punches">6. Feedback (Don’t Dodge the Punches)</a></li>
  <li><a href="#retention-dont-fill-a-leaky-bucket" id="toc-retention-dont-fill-a-leaky-bucket" class="nav-link" data-scroll-target="#retention-dont-fill-a-leaky-bucket">7. Retention (Don’t Fill a Leaky Bucket)</a></li>
  <li><a href="#intuition-dig-deep-before-building-up" id="toc-intuition-dig-deep-before-building-up" class="nav-link" data-scroll-target="#intuition-dig-deep-before-building-up">8. Intuition (Dig Deep Before Building Up)</a></li>
  <li><a href="#experimentation-explore-outside-your-comfort-zone" id="toc-experimentation-explore-outside-your-comfort-zone" class="nav-link" data-scroll-target="#experimentation-explore-outside-your-comfort-zone">9. Experimentation (Explore Outside Your Comfort Zone)</a></li>
  </ul></li>
  <li><a href="#overview-of-the-key-themes" id="toc-overview-of-the-key-themes" class="nav-link" data-scroll-target="#overview-of-the-key-themes">Overview of the Key Themes</a>
  <ul class="collapse">
  <li><a href="#active-vs.-passive-learning" id="toc-active-vs.-passive-learning" class="nav-link" data-scroll-target="#active-vs.-passive-learning">Active vs.&nbsp;Passive Learning</a></li>
  <li><a href="#intensity-and-immersion" id="toc-intensity-and-immersion" class="nav-link" data-scroll-target="#intensity-and-immersion">Intensity and Immersion</a></li>
  <li><a href="#self-directedness" id="toc-self-directedness" class="nav-link" data-scroll-target="#self-directedness">Self-Directedness</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading">Further Reading</a></li>
  <li><a href="#sources" id="toc-sources" class="nav-link" data-scroll-target="#sources">Sources</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="Ultralearning.jpg" class="img-fluid figure-img" style="width:60.0%"></p>
<figcaption><strong>Ultralearning: Master Hard Skills, Outsmart the Competition, and Accelerate Your Career</strong> by Scott H. Young</figcaption>
</figure>
</div>
<p><sup>isbn-13: 9780060000000</sup></p>
<p><em>Audible</em></p>
<section id="ai-generated-content" class="level1 page-columns page-full">
<h1>AI Generated Content</h1>

<div class="no-row-height column-margin column-container"><div class="">
<p>Generated by <a href="../../gemini-3-pro-preview_research_9183527b.html">gemini-3-pro-preview</a></p>
</div></div><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="generated_image_Ultralearning.jpg" class="img-fluid figure-img"></p>
<figcaption>Image generated by <a href="../../gemini-3-pro-image-preview_image_af4438ba.html">gemini-3-pro-image-preview</a></figcaption>
</figure>
</div>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p><em>Ultralearning: Master Hard Skills, Outsmart the Competition, and Accelerate Your Career</em> is a comprehensive guide to aggressive, self-directed learning. Written by Scott H. Young, the book defines “ultralearning” as a strategy for acquiring skills and knowledge that is both self-directed and intense [1]. It is designed for aggressive career advancers, polymaths, and anyone dissatisfied with the slow pace of traditional education who wants to “future-proof” their career in a rapidly changing economy. Young draws upon his own experiences, such as the “MIT Challenge” where he learned the 4-year MIT Computer Science curriculum in 12 months, and the “Year Without English,” as well as case studies of other successful ultralearners [2].</p>
</section>
<section id="overview-of-the-key-points" class="level2">
<h2 class="anchored" data-anchor-id="overview-of-the-key-points">Overview of the Key Points</h2>
<p>The core of the book revolves around nine distinct principles that can be applied to master any subject effectively [1]:</p>
<section id="metalearning-first-draw-a-map" class="level3">
<h3 class="anchored" data-anchor-id="metalearning-first-draw-a-map">1. Metalearning (First Draw a Map)</h3>
<p>Before diving into the material, successful ultralearners study <em>how</em> to learn the subject. This involves creating a roadmap by identifying the concepts to understand, facts to memorize, and procedures to practice. Young suggests spending approximately 10% of total learning time on this planning phase to ensure efficiency.</p>
</section>
<section id="focus-sharpen-your-knife" class="level3">
<h3 class="anchored" data-anchor-id="focus-sharpen-your-knife">2. Focus (Sharpen Your Knife)</h3>
<p>Deep concentration is essential for ultralearning. This principle involves managing three common obstacles: procrastination (failing to start), distraction (drifting off), and a lack of mental stamina. Cultivating the ability to focus deeply allows for longer, more productive learning sessions.</p>
</section>
<section id="directness-go-straight-ahead" class="level3">
<h3 class="anchored" data-anchor-id="directness-go-straight-ahead">3. Directness (Go Straight Ahead)</h3>
<p>One should learn by doing the thing they want to get good at. This avoids the “transfer” problem often seen in traditional education, where classroom learning fails to translate to real-world application. For example, if the goal is to learn a language, one should speak it; if the goal is to code, one should write software.</p>
</section>
<section id="drill-attack-your-weakest-point" class="level3">
<h3 class="anchored" data-anchor-id="drill-attack-your-weakest-point">4. Drill (Attack Your Weakest Point)</h3>
<p>Complex skills should be broken down into their component parts, allowing the learner to ruthlessly practice their weakest links. By isolating and improving specific bottlenecks, the overall skill improves much faster than through holistic practice alone.</p>
</section>
<section id="retrieval-test-to-learn" class="level3">
<h3 class="anchored" data-anchor-id="retrieval-test-to-learn">5. Retrieval (Test to Learn)</h3>
<p>Instead of passively reviewing notes, learners should force themselves to recall information without aid. Self-testing is presented as one of the most effective study methods, relying on the concept of “desirable difficulty”—the harder it is to recall information, the better it is learned.</p>
</section>
<section id="feedback-dont-dodge-the-punches" class="level3">
<h3 class="anchored" data-anchor-id="feedback-dont-dodge-the-punches">6. Feedback (Don’t Dodge the Punches)</h3>
<p>Ultralearners actively seek harsh, immediate feedback. Young categorizes feedback into three types: <em>Outcome</em> (pass/fail), <em>Informational</em> (what was done wrong), and <em>Corrective</em> (how to fix it). Seeking out informational and corrective feedback is crucial for rapid improvement.</p>
</section>
<section id="retention-dont-fill-a-leaky-bucket" class="level3">
<h3 class="anchored" data-anchor-id="retention-dont-fill-a-leaky-bucket">7. Retention (Don’t Fill a Leaky Bucket)</h3>
<p>Understanding why humans forget—due to decay or interference—is key to preventing it. Strategies to improve retention include Spaced Repetition Systems (SRS) and overlearning, which involves practicing beyond the point of initial mastery.</p>
</section>
<section id="intuition-dig-deep-before-building-up" class="level3">
<h3 class="anchored" data-anchor-id="intuition-dig-deep-before-building-up">8. Intuition (Dig Deep Before Building Up)</h3>
<p>Learners should aim for a deep conceptual understanding rather than just memorizing formulas or facts. The “Feynman Technique,” which involves explaining a complex concept in simple terms, is a primary method for identifying gaps in understanding and building intuition.</p>
</section>
<section id="experimentation-explore-outside-your-comfort-zone" class="level3">
<h3 class="anchored" data-anchor-id="experimentation-explore-outside-your-comfort-zone">9. Experimentation (Explore Outside Your Comfort Zone)</h3>
<p>While beginners follow established paths, mastery requires experimentation. Learners must eventually test different methods, resources, and styles to discover what works best for their unique cognitive profile and specific goals.</p>
</section>
</section>
<section id="overview-of-the-key-themes" class="level2">
<h2 class="anchored" data-anchor-id="overview-of-the-key-themes">Overview of the Key Themes</h2>
<p>The book explores several underlying themes that challenge traditional views on education and skill acquisition.</p>
<section id="active-vs.-passive-learning" class="level3">
<h3 class="anchored" data-anchor-id="active-vs.-passive-learning">Active vs.&nbsp;Passive Learning</h3>
<p>A recurring theme is the rejection of passive learning methods such as reading, highlighting, or listening to lectures. Instead, the book advocates for active engagement through drilling, testing, and doing. This shift transforms learning from a consumption activity into a production activity.</p>
</section>
<section id="intensity-and-immersion" class="level3">
<h3 class="anchored" data-anchor-id="intensity-and-immersion">Intensity and Immersion</h3>
<p>Young argues that learning is often most efficient when compressed into short, intense bursts rather than spread out thinly over long periods. This intensity helps maintain focus and momentum, preventing the knowledge decay that occurs with infrequent practice.</p>
</section>
<section id="self-directedness" class="level3">
<h3 class="anchored" data-anchor-id="self-directedness">Self-Directedness</h3>
<p>Traditional schooling often fosters dependency on teachers and curriculums. Ultralearning demands that the learner take full responsibility for their own curriculum, schedule, and standards of success. It empowers individuals to be the architects of their own education [2].</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p><em>Ultralearning</em> posits that in an age of rapid technological change, the ability to learn hard things quickly is a superpower. It challenges the notion that one must wait for a university or institution to provide education. Instead, by applying the nine principles of ultralearning, individuals can build their own curriculums and master any skill through aggressive, self-directed practice. While the method requires significant time and intensity, it offers a practical path for those willing to do the work to achieve mastery without formal instruction.</p>
</section>
<section id="further-reading" class="level2">
<h2 class="anchored" data-anchor-id="further-reading">Further Reading</h2>
<ul>
<li><em>Make It Stick: The Science of Successful Learning</em> by Peter C. Brown et al.</li>
<li><em>Deep Work</em> by Cal Newport</li>
<li><em>Mastery</em> by Robert Greene</li>
<li><em>The First 20 Hours</em> by Josh Kaufman</li>
</ul>
</section>
<section id="sources" class="level2">
<h2 class="anchored" data-anchor-id="sources">Sources</h2>
<ul>
<li>[1] Readingraphics. “Book Summary - Ultralearning (Scott Young).” <em>Readingraphics</em>, 2025. https://readingraphics.com/book-summary-ultralearning-scott-young/</li>
<li>[2] Fluent in 3 Months. “An In-Depth Review of ‘Ultralearning’ by Scott H. Young.” <em>Fluent in 3 Months</em>, 2025. https://www.fluentin3months.com/reviews/how-to-learn/</li>
<li>[3] AbeBooks. “Ultralearning by Scott H Young.” <em>AbeBooks</em>, 2025. https://www.abebooks.com/servlet/SearchResults?kn=Ultralearning%20by%20Scott%20H.%20Young</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/blog\.hanif\.io");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>